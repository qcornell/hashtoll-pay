<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>HashToll Pay - Hedera Payment Links</title>
  <link rel="icon" type="image/png" href="/favicon.png" />

  <!-- Open Graph / Social Media Meta Tags -->
  <meta property="og:title" content="HashToll Pay - Instant Hedera Payment" />
  <meta property="og:description" content="Send me HBAR instantly with this payment link. Powered by Hedera." />
  <meta property="og:image" content="https://pay.hashtoll.com/og-image.png" />
  <meta property="og:url" content="https://pay.hashtoll.com" />
  <meta property="og:type" content="website" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="HashToll Pay - Instant Hedera Payment" />
  <meta name="twitter:description" content="Send me HBAR instantly with this payment link. Powered by Hedera." />
  <meta name="twitter:image" content="https://pay.hashtoll.com/og-image.png" />

  <!-- Supabase SDK -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

  <style>
    /* --- CSS VARIABLES --- */
    :root {
      --ht-card-width: 440px;
      --ht-primary-blue: #4f6deb;
      --ht-primary-hover: #3f5dd1;
      --ht-success-green: #38b5c4;
      --ht-success-green-dark: #26b181;
      --ht-logo-max-width: 260px;
      --ht-input-bg: #f5f5f7;
      --ht-text-dark: #2c3e50;
      --ht-text-muted: #6c757d;
      --ht-radius: 12px;
      --ht-shadow: 0 8px 24px rgba(0, 0, 0, 0.08);
    }

    /* --- CLEAN GRADIENT BACKGROUND --- */
    body {
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      min-height: 100dvh;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
      background: linear-gradient(135deg, #e8eaf6 0%, #f5f7fa 50%, #e3f2fd 100%);
      color: var(--ht-text-dark);
      overflow-x: hidden;
      overflow-y: auto;
      position: relative;
    }

    @supports (-webkit-touch-callout: none) {
      body {
        min-height: -webkit-fill-available;
      }
    }

    body.use-vh-fallback {
      min-height: calc(var(--vh, 1vh) * 100);
    }

    body.keyboard-open {
      align-items: flex-start !important;
      padding-top: 16px;
    }

    body.walletconnect-open {
      pointer-events: none !important;
    }

    body.walletconnect-open .ht-card {
      pointer-events: auto;
    }

    /* --- CLEAN WHITE CARD --- */
    .ht-card {
      width: 100%;
      max-width: var(--ht-card-width);
      position: relative;
      padding: 48px 40px;
      box-sizing: border-box;
      background: #ffffff;
      border-radius: 24px;
      box-shadow: var(--ht-shadow);
      text-align: center;
      z-index: 10;
      transition: all 0.4s ease;
      margin: 20px;
    }

    .ht-logo-area {
      margin-bottom: 24px;
    }

    .ht-title {
      margin: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      width: 100%;
    }

    .ht-title img {
      display: block;
      width: min(var(--ht-logo-max-width), 100%);
      max-width: 100%;
      height: auto;
      object-fit: contain;
    }

    .ht-subtitle {
      margin: 12px 0 0 0;
      color: var(--ht-text-muted);
      font-size: 0.95rem;
      font-weight: 500;
    }

    .ht-subsubtitle {
      margin: 6px 0 0 0;
      color: var(--ht-text-muted);
      font-size: 0.85rem;
      font-weight: 500;
      display: none;
    }

    .ht-subsubtitle.active {
      display: block;
    }

    /* --- MODERN ACCOUNT DISPLAY (HOME ONLY) --- */
    .ht-account-display {
      display: none;
      background: linear-gradient(135deg, rgba(56, 181, 196, 0.08) 0%, rgba(38, 177, 129, 0.08) 100%);
      border: 1.5px solid rgba(56, 181, 196, 0.2);
      border-radius: var(--ht-radius);
      padding: 16px 20px;
      margin-bottom: 24px;
      align-items: center;
      justify-content: space-between;
      transition: all 0.3s ease;
      gap: 12px;
      position: relative;
    }

    .ht-account-display.active {
       display: flex; 
    }

    .ht-account-id {
      font-family: 'SF Mono', 'Monaco', 'Courier New', monospace;
      font-size: 1.05rem;
      color: var(--ht-success-green-dark);
      font-weight: 600;
      flex: 1;
      word-break: break-all;
      letter-spacing: 0.02em;
    }

    .ht-disconnect-btn {
      background: rgba(0, 0, 0, 0.04);
      border: 1px solid rgba(0, 0, 0, 0.08);
      color: var(--ht-text-muted);
      width: 32px;
      height: 32px;
      border-radius: 8px;
      font-size: 1.2rem;
      font-weight: 300;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      line-height: 1;
      padding: 0;
    }

    .ht-disconnect-btn:hover {
      background: rgba(0, 0, 0, 0.08);
      border-color: rgba(0, 0, 0, 0.12);
      color: var(--ht-text-dark);
      transform: scale(1.05);
    }

    .ht-disconnect-btn:active {
      transform: scale(0.95);
    }

    /* --- FORM SECTION (HOME) --- */
    .ht-form-section {
      transition: all 0.4s ease;
    }

    .ht-form-section.hidden {
      opacity: 0;
      transform: translateY(-20px);
      pointer-events: none;
      position: absolute;
      width: calc(100% - 80px);
    }

    .ht-input-group {
      text-align: left;
      margin-bottom: 24px;
    }

    .ht-label {
      display: block;
      font-size: 0.875rem;
      font-weight: 600;
      color: var(--ht-text-dark);
      margin-bottom: 8px;
    }

    .ht-input-wrapper {
      position: relative;
      display: flex;
      align-items: center;
    }

    .ht-input-prefix {
      position: absolute;
      left: 18px;
      font-size: 1.25rem;
      font-weight: 500;
      color: var(--ht-text-muted);
      pointer-events: none;
    }

    .ht-input {
      width: 100%;
      box-sizing: border-box;
      background: var(--ht-input-bg);
      border: 1.5px solid transparent;
      border-radius: var(--ht-radius);
      padding: 16px 16px 16px 42px;
      font-size: 1.125rem;
      color: var(--ht-text-dark);
      font-weight: 500;
      outline: none;
      transition: 0.2s ease;
      -moz-appearance: textfield;
    }

    .ht-input::-webkit-outer-spin-button,
    .ht-input::-webkit-inner-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }

    .ht-input:focus {
      background: #ffffff;
      border-color: var(--ht-primary-blue);
      box-shadow: 0 0 0 3px rgba(79, 109, 235, 0.1);
    }

    .ht-input::placeholder {
      color: rgba(108, 117, 125, 0.5);
    }

    /* --- RESULT SECTION (CREATOR AFTER GENERATE) --- */
    .ht-result-section {
      display: none;
      transition: all 0.4s ease;
    }

    .ht-result-section.active {
      display: block;
      animation: fadeInUp 0.4s ease;
    }

    /* --- PAYER SECTION (INVOICE PAGE) --- */
    .ht-payer-section {
      display: none;
      animation: fadeInUp 0.4s ease;
    }

    .ht-payer-section.active {
      display: block;
    }

    /* --- STATUS SECTION (DASHBOARD) --- */
    .ht-status-section {
      display: none;
      animation: fadeInUp 0.4s ease;
    }

    .ht-status-section.active {
      display: block;
    }

    .status-header {
      background: linear-gradient(135deg, rgba(56, 181, 196, 0.06) 0%, rgba(38, 177, 129, 0.06) 100%);
      border: 1.5px solid rgba(56, 181, 196, 0.15);
      border-radius: var(--ht-radius);
      padding: 20px;
      margin-bottom: 24px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
    }

    .status-header-left {
      flex: 1;
      min-width: 0;
    }

    .status-header-title {
      font-size: 0.75rem;
      font-weight: 700;
      color: var(--ht-text-muted);
      text-transform: uppercase;
      letter-spacing: 0.05em;
      margin-bottom: 6px;
    }

    .status-wallet-id {
      font-family: 'SF Mono', 'Monaco', 'Courier New', monospace;
      font-size: 1.1rem;
      color: var(--ht-success-green-dark);
      font-weight: 700;
      letter-spacing: 0.02em;
      word-break: break-all;
    }

    .status-disconnect-btn {
      background: rgba(0, 0, 0, 0.04);
      border: 1px solid rgba(0, 0, 0, 0.08);
      color: var(--ht-text-muted);
      width: 36px;
      height: 36px;
      border-radius: 10px;
      font-size: 1.3rem;
      font-weight: 300;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      line-height: 1;
      padding: 0;
    }

    .status-disconnect-btn:hover {
      background: rgba(0, 0, 0, 0.08);
      border-color: rgba(0, 0, 0, 0.12);
      color: var(--ht-text-dark);
      transform: scale(1.05);
    }

    .status-disconnect-btn:active {
      transform: scale(0.95);
    }

    .invoice-card {
      background: #ffffff;
      border: 1.5px solid rgba(0, 0, 0, 0.06);
      border-radius: 16px;
      padding: 20px;
      margin-bottom: 16px;
      transition: all 0.25s ease;
      position: relative;
      overflow: hidden;
      text-align: left;
    }

    .invoice-card:hover {
      border-color: rgba(0, 0, 0, 0.1);
      transform: translateY(-2px);
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.08);
    }

    .invoice-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 16px;
      gap: 12px;
    }

    .invoice-header-left {
      flex: 1;
      min-width: 0;
    }

    .invoice-slug {
      font-family: 'SF Mono', 'Monaco', 'Courier New', monospace;
      font-size: 0.8rem;
      color: var(--ht-text-muted);
      font-weight: 600;
      letter-spacing: 0.03em;
      margin-bottom: 8px;
    }

    .invoice-amount {
      font-size: 1.4rem;
      font-weight: 800;
      color: var(--ht-text-dark);
      line-height: 1.2;
      margin-bottom: 4px;
    }

    .invoice-url {
      font-family: 'SF Mono', 'Monaco', 'Courier New', monospace;
      font-size: 0.7rem;
      color: var(--ht-text-muted);
      word-break: break-all;
      line-height: 1.4;
      margin-top: 12px;
      margin-bottom: 16px;
    }

    .invoice-actions {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 8px;
    }

    .invoice-action-primary {
      grid-column: 1 / -1;
    }

    .invoice-badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 8px 14px;
      border-radius: 10px;
      font-size: 0.75rem;
      font-weight: 700;
      letter-spacing: 0.03em;
      text-transform: uppercase;
      white-space: nowrap;
      flex-shrink: 0;
    }

    .invoice-badge.unpaid {
      background: rgba(245, 158, 11, 0.1);
      border: 1.5px solid rgba(245, 158, 11, 0.3);
      color: #d97706;
    }

    .invoice-badge.paid {
      background: rgba(59, 130, 246, 0.1);
      border: 1.5px solid rgba(59, 130, 246, 0.3);
      color: #2563eb;
    }

    .invoice-badge.confirmed {
      background: rgba(16, 185, 129, 0.1);
      border: 1.5px solid rgba(16, 185, 129, 0.3);
      color: #059669;
    }

    .no-invoices {
      text-align: center;
      padding: 60px 20px;
      color: var(--ht-text-muted);
      font-size: 0.95rem;
      line-height: 1.6;
    }

    .no-invoices-icon {
      font-size: 3rem;
      margin-bottom: 16px;
      opacity: 0.3;
    }

    /* Centered account row */
    .payer-account-row {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      margin-bottom: 24px;
    }

    .payer-account-id {
      font-family: 'SF Mono', 'Monaco', 'Courier New', monospace;
      font-size: 0.98rem;
      color: var(--ht-text-dark);
      font-weight: 700;
      letter-spacing: 0.01em;
      text-align: center;
    }

    .payer-copy-btn {
      width: 36px;
      height: 36px;
      border-radius: 999px;
      border: 1.5px solid rgba(0, 0, 0, 0.08);
      background: rgba(0, 0, 0, 0.04);
      color: var(--ht-text-muted);
      cursor: pointer;
      transition: all 0.18s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      font-size: 1rem;
      line-height: 1;
    }

    .payer-copy-btn:hover {
      transform: translateY(-1px);
      border-color: rgba(0, 0, 0, 0.12);
      background: rgba(0, 0, 0, 0.06);
    }

    .payer-copy-btn:active {
      transform: translateY(0);
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .ht-qr-container {
      border-radius: var(--ht-radius);
      display: inline-block;
      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
      max-width: 100%;
      padding: 16px;
      background: #ffffff;
      border: 1.5px solid rgba(0, 0, 0, 0.06);
    }

    .ht-qr-container canvas {
      border-radius: 8px;
      display: block;
      max-width: 100%;
      height: auto !important;
    }

    /* USD Worth Line */
    .ht-usd-worth {
      font-size: 1.1rem;
      font-weight: 600;
      color: var(--ht-text-dark);
      margin-top: 20px;
      margin-bottom: 20px;
    }

    /* Status pill/link */
    .ht-status {
      border-radius: var(--ht-radius);
      font-size: 0.9rem; 
      color: var(--ht-text-muted);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .ht-status a {
      color: var(--ht-primary-blue);
      text-decoration: none;
      font-weight: 700;
      transition: all 0.2s ease;
    }

    .ht-status a:hover {
      color: var(--ht-primary-hover);
      text-decoration: underline;
    }

    .ht-status.payer-status-hidden {
      display: none;
    }

    .ht-status.paid {
      background: rgba(16, 185, 129, 0.1);
      border: 1.5px solid rgba(16, 185, 129, 0.2);
      color: #059669;
      font-weight: 700;
      padding: 12px;
      border-radius: 12px;
    }

    .ht-status.warn {
      background: rgba(245, 158, 11, 0.1);
      border: 1.5px solid rgba(245, 158, 11, 0.2);
      color: #d97706;
      font-weight: 700;
      padding: 12px;
      border-radius: 12px;
    }

    .ht-link-display {
      background: var(--ht-input-bg);
      border: 1.5px solid rgba(0, 0, 0, 0.06);
      border-radius: var(--ht-radius);
      padding: 14px;
      margin: 16px 0;
      font-family: 'SF Mono', 'Monaco', 'Courier New', monospace;
      font-size: 0.8rem;
      color: var(--ht-text-dark);
      word-break: break-all;
      text-align: center;
      line-height: 1.4;
      display: none;
    }

    .ht-action-buttons {
      display: flex;
      gap: 10px;
      margin-top: 16px;
    }

    .ht-action-buttons button {
      flex: 1;
    }

    /* --- BUTTONS --- */
    .ht-btn {
      width: 100%;
      padding: 16px;
      border-radius: var(--ht-radius);
      border: none;
      font-size: 0.95rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
      margin-bottom: 12px;
      font-family: inherit;
      letter-spacing: 0.3px;
    }

    .ht-btn-primary {
      background: var(--ht-primary-blue);
      color: #fff;
      box-shadow: 0 4px 12px rgba(79, 109, 235, 0.2);
    }

    .ht-btn-primary:hover:not(:disabled) {
      background: var(--ht-primary-hover);
      transform: translateY(-1px);
      box-shadow: 0 6px 16px rgba(79, 109, 235, 0.3);
    }

    .ht-btn-primary:active:not(:disabled) {
      transform: translateY(0);
      box-shadow: 0 2px 8px rgba(79, 109, 235, 0.2);
    }

    /* Greenish-blue gradient when wallet connected */
    .ht-btn-primary.ht-btn-success {
      background: var(--ht-success-green);
      box-shadow: 0 4px 12px rgba(56, 181, 196, 0.2);
    }

    .ht-btn-primary.ht-btn-success:hover:not(:disabled) {
      background: var(--ht-success-green-dark);
      box-shadow: 0 6px 16px rgba(56, 181, 196, 0.3);
    }

    .ht-btn-primary.ht-btn-success:active:not(:disabled) {
      box-shadow: 0 2px 8px rgba(56, 181, 196, 0.2);
    }

    /* Big Pay button */
    .ht-btn-pay {
      padding: 18px 16px;
      font-size: 1.02rem;
      border-radius: 14px;
    }

    .ht-btn-secondary {
      background: rgba(0, 0, 0, 0.04);
      color: var(--ht-text-dark);
      border: 1.5px solid rgba(0, 0, 0, 0.08);
      font-weight: 600;
    }

    .ht-btn-secondary:hover:not(:disabled) {
      background: rgba(0, 0, 0, 0.06);
      border-color: rgba(0, 0, 0, 0.12);
    }

    .ht-btn-secondary:active:not(:disabled) {
      transform: scale(0.99);
    }

    .ht-btn-action {
      background: rgba(0, 0, 0, 0.04);
      color: var(--ht-text-dark);
      border: 1.5px solid rgba(0, 0, 0, 0.08);
      font-weight: 600;
    }

    .ht-btn-action:hover:not(:disabled) {
      background: rgba(0, 0, 0, 0.06);
      transform: translateY(-1px);
      border-color: rgba(0, 0, 0, 0.12);
    }

    .ht-btn-action:active:not(:disabled) {
      transform: translateY(0);
    }

    .ht-btn-small {
      padding: 13px 16px;
      font-size: 0.88rem;
      margin-bottom: 0;
      border-radius: 10px;
    }

    .ht-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .spinner {
      border: 2px solid rgba(0, 0, 0, 0.1);
      border-top-color: currentColor;
      border-radius: 50%;
      width: 16px;
      height: 16px;
      animation: spin 0.8s linear infinite;
      display: inline-block;
      margin-right: 8px;
      vertical-align: middle;
    }

    @keyframes spin {
      to {
        transform: rotate(360deg);
      }
    }

    .ht-helper-text {
      margin-top: 8px;
      margin-bottom: 10px;
      color: var(--ht-text-muted);
      font-size: 0.82rem;
      font-weight: 500;
      line-height: 1.25;
    }

    /* Toast Notifications */
    .toast {
      position: fixed;
      top: 24px;
      right: 24px;
      padding: 14px 20px;
      border-radius: 12px;
      background: #ffffff;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
      z-index: 1000;
      animation: slideInRight 0.4s cubic-bezier(0.16, 1, 0.3, 1);
      max-width: 320px;
      font-size: 0.875rem;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 10px;
      border: 1.5px solid rgba(0, 0, 0, 0.08);
    }

    @keyframes slideInRight {
      from {
        transform: translateX(400px) scale(0.9);
        opacity: 0;
      }

      to {
        transform: translateX(0) scale(1);
        opacity: 1;
      }
    }

    .toast-success {
      border-color: rgba(16, 185, 129, 0.3);
      background: rgba(16, 185, 129, 0.05);
      color: #059669;
    }

    .toast-error {
      border-color: rgba(239, 68, 68, 0.3);
      background: rgba(239, 68, 68, 0.05);
      color: #dc2626;
    }

    .toast-info {
      border-color: rgba(79, 109, 235, 0.3);
      background: rgba(79, 109, 235, 0.05);
      color: var(--ht-primary-blue);
    }

    .toast-icon {
      font-size: 1.1rem;
      flex-shrink: 0;
    }

    .toast.removing {
      animation: slideOutRight 0.3s cubic-bezier(0.4, 0, 1, 1) forwards;
    }

    @keyframes slideOutRight {
      to {
        transform: translateX(400px) scale(0.9);
        opacity: 0;
      }
    }

    /* Mobile Optimization */
    @media (max-width: 500px) {
      body {
        padding: 10px 0;
      }

      .ht-card {
        width: calc(100% - 20px);
        max-width: 100%;
        padding: 32px 24px;
        margin: 10px;
        border-radius: 20px;
      }

      .ht-logo-area {
        margin-bottom: 20px;
      }

      .ht-title img {
        max-width: 200px;
      }

      .ht-subtitle {
        font-size: 0.88rem;
      }

      .ht-subsubtitle {
        font-size: 0.78rem;
      }

      .ht-account-display {
        padding: 14px 16px;
      }

      .ht-account-id {
        font-size: 0.95rem;
      }

      .ht-disconnect-btn {
        width: 28px;
        height: 28px;
        font-size: 1.1rem;
      }

      .ht-form-section.hidden {
        width: calc(100% - 48px);
      }

      .ht-input {
        font-size: 1.1rem;
        padding: 14px 14px 14px 40px;
      }

      .ht-btn {
        padding: 14px;
        font-size: 0.9rem;
      }

      .ht-btn-pay {
        padding: 16px;
        font-size: 0.95rem;
      }

      .ht-btn-small {
        padding: 12px;
        font-size: 0.85rem;
      }

      .ht-qr-container {
        padding: 12px;
        width: calc(100% - 24px);
        max-width: 280px;
      }

      .ht-qr-container canvas {
        width: 100% !important;
      }

      .ht-usd-worth {
        font-size: 0.98rem;
      }

      .payer-account-id {
        font-size: 0.92rem;
      }

      .status-header {
        padding: 16px;
      }

      .status-wallet-id {
        font-size: 0.95rem;
      }

      .status-disconnect-btn {
        width: 32px;
        height: 32px;
        font-size: 1.2rem;
      }

      .invoice-card {
        padding: 16px;
      }

      .invoice-amount {
        font-size: 1.2rem;
      }

      .invoice-actions {
        grid-template-columns: 1fr;
      }

      .invoice-action-primary {
        grid-column: 1;
      }

      .toast {
        max-width: calc(100vw - 32px);
        right: 16px;
        top: 16px;
        font-size: 0.8125rem;
        padding: 12px 16px;
      }
    }

    @media (max-width: 360px) {
      .ht-card {
        padding: 28px 20px;
      }

      .ht-title img {
        max-width: 180px;
      }

      .ht-input {
        font-size: 1rem;
      }
    }

    /* Powered by Hedera footer */
    .ht-powered-by {
      margin-top: 32px;
      padding-top: 24px;
      border-top: 1.5px solid rgba(0, 0, 0, 0.06);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      font-size: 0.875rem;
      color: var(--ht-text-muted);
      font-weight: 500;
    }

    .ht-powered-by img {
      height: 20px;
      opacity: 0.8;
    }
  </style>
</head>

<body>

  <div class="ht-card">
    <div class="ht-logo-area">
      <h1 class="ht-title">
        <img src="/logo.png" alt="HashToll">
      </h1>
      <p class="ht-subtitle" id="subtitle">Create a payment link in seconds</p>
      <p class="ht-subsubtitle" id="subsubtitle">Send securely via HashPack</p>
    </div>

    <!-- Connected Account Display (ONLY on home page) -->
    <div class="ht-account-display" id="accountDisplay">
      <span class="ht-account-id" id="accountId">0.0.0</span>
      <button class="ht-disconnect-btn" onclick="disconnectWallet()" title="Disconnect">√ó</button>
    </div>

    <!-- Form Section (HOME) -->
    <div class="ht-form-section" id="formSection">
      <div class="ht-input-group">
        <label class="ht-label">USD Amount</label>
        <div class="ht-input-wrapper">
          <span class="ht-input-prefix">$</span>
          <input type="number" class="ht-input" id="amountInput" placeholder="Enter Amount" step="0.01" min="0">
        </div>
      </div>

      <button class="ht-btn ht-btn-primary" id="connectBtn">Connect Wallet</button>
      <button class="ht-btn ht-btn-secondary" id="generateBtn" disabled>Generate Payment Link</button>
    </div>

    <!-- Rest of your sections remain the same... -->
    <!-- Result Section -->
    <div class="ht-result-section" id="resultSection">
      <div class="ht-qr-container" id="qrContainer"></div>

      <div class="ht-usd-worth" id="usdWorthLine">
        Pay $<span id="usdAmount">50</span> of HBAR
      </div>

      <div class="ht-status" id="payStatus">
        <a href="#" id="statusPageLink">‚Üí Check Payment Status</a>
      </div>

      <div class="ht-link-display" id="linkDisplay"></div>

      <div class="ht-action-buttons">
        <button class="ht-btn ht-btn-action ht-btn-small" id="copyBtn">üìã Copy Link</button>
        <button class="ht-btn ht-btn-action ht-btn-small" id="shareBtn">üîó Share</button>
      </div>

      <button class="ht-btn ht-btn-secondary ht-btn-small" id="createAnotherBtn" style="margin-top: 8px;">
        + New Link
      </button>
    </div>

    <!-- Payer Section -->
    <div class="ht-payer-section" id="payerSection">
      <div class="payer-account-row">
        <div class="payer-account-id" id="payerReceiverAccount">0.0.000000</div>
        <button class="payer-copy-btn" id="copyReceiverBtn" title="Copy receiver account">‚ßâ</button>
      </div>

      <div class="ht-usd-worth">
        Send $<span id="payerUsdAmount">0</span> in HBAR
      </div>

      <button class="ht-btn ht-btn-primary ht-btn-pay" id="payNowBtn">Pay Now</button>
      <button class="ht-btn ht-btn-secondary" id="iPaidBtn">‚úÖ I Paid (Notify Receiver)</button>
      <div class="ht-helper-text">After you pay, tap "I Paid" to confirm.</div>

      <div class="ht-status payer-status-hidden" id="payerStatus">‚è≥ Waiting for payment...</div>
    </div>

    <!-- Status Section -->
    <div class="ht-status-section" id="statusSection">
      <div class="status-header">
        <div class="status-header-left">
          <div class="status-header-title">Connected Wallet</div>
          <div class="status-wallet-id" id="statusWalletId">0.0.000000</div>
        </div>
        <button class="status-disconnect-btn" onclick="disconnectWallet()" title="Disconnect">√ó</button>
      </div>

      <button class="ht-btn ht-btn-primary" id="createNewFromStatus" style="margin-bottom: 24px;">
        + Create New Invoice
      </button>

      <div id="invoiceList"></div>
    </div>

    <!-- Powered by Hedera -->
    <div class="ht-powered-by">
      <span>Powered by</span>
      <img src="/hedera-logo.svg" alt="Hedera" onerror="this.style.display='none'">
    </div>
  </div>

  <div id="toast-container"></div>

  <!-- Keep all your existing JavaScript exactly as is -->
  <script type="module">
    // ... (all your existing JavaScript code remains unchanged)
  </script>

  <script>
    // ... (all your existing JavaScript code remains unchanged)
  </script>

</body>

</html>
